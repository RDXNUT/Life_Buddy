:root {
    --font-family: 'Kanit', sans-serif;
    --bg-light: #f5f7fa; --card-bg-light: #ffffff; --text-light: #1c2a38; --subtle-text-light: #5b6a78; --border-light: #e8eef3; --primary-light: #007aff; --primary-hover-light: #0056b3; --accent-light: #ff9500; --accent-hover-light: #d97e00; --success-light: #34c759; --danger-light: #ff3b30; --shadow-light: 0 5px 20px rgba(0, 0, 0, 0.08); --glass-bg-light: rgba(255, 255, 255, 0.7);
    --bg-dark: #121212; --card-bg-dark: #1e1e1e; --text-dark: #e5e5e5; --subtle-text-dark: #a0a0a0; --border-dark: #383838; --primary-dark: #0a84ff; --primary-hover-dark: #3b9dff; --accent-dark: #ff9f0a; --accent-hover-dark: #ffb43a; --success-dark: #30d158; --danger-dark: #ff453a; --shadow-dark: 0 5px 25px rgba(0, 0, 0, 0.3); --glass-bg-dark: rgba(30, 30, 30, 0.6);
}
body[data-theme="light"] { --bg-color: var(--bg-light); --card-bg-color: var(--card-bg-light); --text-color: var(--text-light); --subtle-text-color: var(--subtle-text-light); --border-color: var(--border-light); --primary-color: var(--primary-light); --primary-hover: var(--primary-hover-light); --accent-color: var(--accent-light); --accent-hover: var(--accent-hover-light); --success-color: var(--success-light); --danger-color: var(--danger-light); --shadow: var(--shadow-light); --glass-bg: var(--glass-bg-light); }
body[data-theme="dark"] { --bg-color: var(--bg-dark); --card-bg-color: var(--card-bg-dark); --text-color: var(--text-dark); --subtle-text-color: var(--subtle-text-dark); --border-color: var(--border-dark); --primary-color: var(--primary-dark); --primary-hover: var(--primary-hover-dark); --accent-color: var(--accent-dark); --accent-hover: var(--accent-hover-dark); --success-color: var(--success-dark); --danger-color: var(--danger-dark); --shadow: var(--shadow-dark); --glass-bg: var(--glass-bg-dark); }
* { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body { font-family: var(--font-family); background-color: var(--bg-color); color: var(--text-color); transition: background-color 0.3s, color 0.3s; line-height: 1.7; font-weight: 300; }
main { padding: 85px 20px 20px; max-width: 1200px; margin: 0 auto; }
h1, h2, h3, h4 { font-weight: 500; color: var(--text-color); }
h1 { font-size: 2.2rem; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 12px; }
h2 { font-size: 1.6rem; margin-bottom: 1rem; color: var(--text-color); display: flex; align-items: center; gap: 10px; border-bottom: 1px solid var(--border-color); padding-bottom: 12px; }
h3 { font-size: 1.2rem; margin-bottom: 0.8rem; }
p { color: var(--subtle-text-color); }
.card { background-color: var(--card-bg-color); border-radius: 16px; padding: 25px; margin-bottom: 20px; box-shadow: var(--shadow); border: 1px solid var(--border-color); transition: all 0.3s; }
.hidden { display: none !important; }
.feather { width: 1.1em; height: 1.1em; stroke-width: 2; vertical-align: -0.15em; }
header { position: fixed; top: 0; left: 0; width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; height: 65px; z-index: 1000; background-color: var(--glass-bg); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-bottom: 1px solid var(--border-color); }
.user-stats { display: flex; align-items: center; gap: 15px; font-weight: 500; }
.guest-container { display: flex; align-items: center; gap: 15px; height: 100%; }
.user-stats span { display: inline-flex; align-items: center; gap: 8px; padding: 6px 14px; background-color: var(--bg-color); border-radius: 20px; line-height: 1.2; font-weight: 500; }
#coin-display .feather-dollar-sign { color: #FFC700; }
#check-in-btn { background-color: var(--accent-color); color: white; border: none; padding: 8px 18px; border-radius: 20px; cursor: pointer; font-weight: 500; transition: all 0.2s; display: inline-flex; align-items: center; justify-content: center; min-width: 50px; height: 36px; }
#check-in-btn:hover { background-color: var(--accent-hover); transform: scale(1.05); }
#check-in-btn.checked { background-color: var(--success-color); cursor: default; transform: none; }
#check-in-btn.checked:hover { background-color: var(--success-color); transform: none; }
#check-in-btn .check-in-icon { stroke-width: 3; }
#sidebar { position: fixed; top: 0; left: -300px; width: 280px; height: 100%; background-color: var(--card-bg-color); box-shadow: 5px 0 25px rgba(0,0,0,0.2); z-index: 1002; transition: left 0.35s cubic-bezier(0.25, 0.1, 0.25, 1); padding-top: 20px; border-right: 1px solid var(--border-color); }
#sidebar.show { left: 0; }
.sidebar-header { display: flex; justify-content: space-between; align-items: center; padding: 0 20px 20px; border-bottom: 1px solid var(--border-color); }
#sidebar ul { list-style: none; padding: 10px; }
#sidebar ul li a { display: flex; align-items: center; gap: 15px; padding: 12px 15px; text-decoration: none; color: var(--text-color); font-size: 1rem; font-weight: 400; border-radius: 8px; transition: all 0.2s; margin-bottom: 5px; }
#sidebar ul li a:hover { background-color: var(--primary-hover); color: #fff; transform: translateX(5px); }
#sidebar ul li a.active { background-color: var(--primary-color); color: #fff; font-weight: 500; }
#overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 1001; display: none; opacity: 0; transition: opacity 0.3s; }
#overlay.show { display: block; opacity: 1; }
.page { display: none; }
.page.active { display: block; animation: fadeIn 0.5s ease-in-out; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
button, input, select, textarea { font-family: var(--font-family); font-size: 1rem; padding: 12px; border-radius: 8px; border: 1px solid var(--border-color); background-color: var(--bg-color); color: var(--text-color); width: 100%; margin-bottom: 10px; transition: all 0.2s; }
input:focus, select:focus, textarea:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px var(--primary-color-light); }
body[data-theme="dark"] input:focus, body[data-theme="dark"] select:focus, body[data-theme="dark"] textarea:focus { box-shadow: 0 0 0 3px var(--primary-color-dark); }
textarea { min-height: 80px; resize: vertical; }
button { background-color: var(--primary-color); color: white; cursor: pointer; border: none; font-weight: 500; display: inline-flex; align-items: center; justify-content: center; gap: 8px; }
button:hover { background-color: var(--primary-hover); }
button:active { transform: scale(0.98); }
.icon-button { background: none; border: none; color: var(--text-color); cursor: pointer; width: auto; padding: 5px; margin-bottom: 0; position: relative; }
.icon-button:hover { color: var(--primary-color); }
.small-btn { padding: 8px 16px; font-size: 0.9em; width: auto; font-weight: 500; line-height: 1; }
.btn-secondary { background-color: var(--bg-color); color: var(--text-color); border: 1px solid var(--border-color); }
.btn-secondary:hover { background-color: var(--border-color); }
.pill-btn { border-radius: 50px; box-shadow: 0 4px 15px -5px var(--primary-color); transition: all 0.3s ease; }
.pill-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px -5px var(--primary-color); }
.welcome-card { background: linear-gradient(135deg, var(--primary-color), var(--accent-color)); color: white; }
.welcome-card h1, .welcome-card p { color: white; }
.overview-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
.overview-item ul { list-style: none; margin-top: 10px; }
.overview-item li { border-left: 3px solid var(--accent-color); padding-left: 10px; margin-bottom: 8px; color: var(--subtle-text-color); }
.home-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
@media (max-width: 900px) { .home-grid { grid-template-columns: 1fr; } }
#todo-form { display: flex; gap: 10px; }
#todo-form button { flex-shrink: 0; width: 50px; }
#todo-list { list-style: none; margin-top: 15px; }
#todo-list li { 
    display: flex; 
    align-items: center; 
    gap: 15px;
    padding: 12px 5px; 
    border-bottom: 1px solid var(--border-color); 
}
/* ทำให้ข้อความยืดเต็มพื้นที่ที่เหลือ */
#todo-list li span {
    flex-grow: 1;
    margin-right: 10px;
}

/* สไตล์สำหรับปุ่มลบที่เพิ่มเข้ามาใหม่ */
.delete-todo-btn {
    background: none;
    border: none;
    color: var(--subtle-text-color);
    cursor: pointer;
    padding: 5px;
    width: auto;
    margin: 0;
    flex-shrink: 0; /* ไม่ให้ปุ่มถูกบีบ */
    transition: color 0.2s;
}

.delete-todo-btn:hover {
    color: var(--danger-color); /* เปลี่ยนเป็นสีแดงเมื่อเอาเมาส์ไปวาง */
}
#todo-list li.completed span { text-decoration: line-through; color: var(--subtle-text-color); }
#todo-list input[type="checkbox"] { margin-right: 15px; width: 20px; height: 20px; flex-shrink: 0; }
.suggestion-text { margin-top: 15px; font-style: italic; text-align: center; font-size: 1.1rem; color: var(--accent-color); min-height: 40px; }
.calendar-controls { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.calendar-controls h3 { flex-grow: 1; text-align: center; }
.calendar { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; }
.calendar-day-name, .calendar-day { text-align: center; padding: 5px; border-radius: 8px; }
.calendar-day-name { font-weight: 500; color: var(--subtle-text-color); }
.calendar-day { min-height: 50px; cursor: pointer; transition: all 0.2s; position: relative; display: flex; justify-content: center; align-items: center; border: 1px solid transparent; }
.calendar-day:hover { background-color: var(--bg-color); transform: scale(1.1); }
.calendar-day.today { border-color: var(--accent-color); font-weight: bold; }
.calendar-day.selected { background-color: var(--primary-color); color: #fff; border-color: var(--primary-color); transform: scale(1.1); }
.event-dot { position: absolute; bottom: 8px; width: 6px; height: 6px; background-color: var(--accent-color); border-radius: 50%; }
.calendar-nav-btn { background: none !important; border: none !important; color: var(--text-color) !important; padding: 8px !important; width: auto !important; height: auto !important; border-radius: 50% !important; display: inline-flex !important; align-items: center; justify-content: center; transition: background-color 0.2s, color 0.2s; }
.calendar-nav-btn:hover { background-color: var(--bg-color) !important; color: var(--primary-color) !important; }
.planner-container, .mood-container { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
@media (max-width: 1024px) { .planner-container, .mood-container { grid-template-columns: 1fr; } }
.profile-pic { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid var(--border-color); }
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); display: flex; justify-content: center; align-items: center; z-index: 2000; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0s 0.3s; }
.modal-overlay:not(.hidden) { opacity: 1; visibility: visible; transition: opacity 0.3s ease; }
.modal-content { background: var(--card-bg-color); padding: 0; border-radius: 16px; width: 90%; max-width: 450px; box-shadow: var(--shadow); text-align: center; position: relative; transform: scale(0.95); transition: transform 0.3s ease; }
.modal-content .close-btn { position: absolute; top: 15px; right: 15px; }
.modal-content > *:not(.modal-header):not(.custom-subject-footer):not(.social-login-container) { padding: 0 30px 30px; }
.modal-content > h2, .modal-content > p { text-align: center; }
.modal-overlay:not(.hidden) .modal-content { transform: scale(1); }
.close-btn { font-size: 1.5rem; background: none !important; border: none !important; color: var(--subtle-text-color); cursor: pointer; padding: 5px !important; width: auto !important; height: auto !important; line-height: 1; transition: color 0.2s; }
.close-btn:hover { color: var(--danger-color); background: none !important; }
.separator { display: flex; align-items: center; text-align: center; color: var(--subtle-text-color); margin: 20px 0; }
.separator::before, .separator::after { content: ''; flex: 1; border-bottom: 1px solid var(--border-color); }
.separator:not(:empty)::before { margin-right: .25em; }
.separator:not(:empty)::after { margin-left: .25em; }
.google-btn { background-color: #fff !important; color: #3C4043 !important; border: 1px solid #DADCE0 !important; font-weight: 500 !important; width: auto; padding: 10px 24px; box-shadow: none !important; margin: 0; }
.google-btn:hover { background-color: #F8F9FA !important; border-color: #D2D5D8 !important; }
.google-btn img { width: 18px; height: 18px; margin-right: 12px; }
.error-message { color: var(--danger-color); margin-top: 15px; min-height: 20px; font-size: 0.9em; }
#guest-mode-indicator { font-size: 0.9em; font-weight: 500; color: var(--subtle-text-color); background-color: var(--bg-color); padding: 8px 16px; border-radius: 20px; line-height: 1; display: inline-flex; align-items: center; }
#toast-notification { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: var(--text-color); color: var(--card-bg-color); padding: 12px 25px; border-radius: 30px; box-shadow: var(--shadow); z-index: 3000; font-size: 0.95em; font-weight: 500; opacity: 0; transition: opacity 0.4s, bottom 0.4s; }
#toast-notification:not(.hidden) { bottom: 40px; opacity: 1; }
.card-header-actions { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
.card-header-actions h2 { margin-bottom: 0; border-bottom: none; padding-bottom: 0; }
#activity-list-container, #advice-list-container { list-style: none; padding: 0; margin: 20px 0; max-height: 300px; overflow-y: auto; border: 1px solid var(--border-color); border-radius: 8px; }
.activity-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; border-bottom: 1px solid var(--border-color); }
.activity-item:last-child { border-bottom: none; }
.activity-item span { flex-grow: 1; text-align: left; }
.delete-activity-btn, .delete-advice-btn { background: none; border: none; color: var(--danger-color); cursor: pointer; padding: 5px; margin: 0 0 0 10px; width: auto; }
.delete-activity-btn:hover, .delete-advice-btn:hover { opacity: 0.7; }
#add-activity-form, #add-advice-form { display: flex; gap: 10px; }
.profile-container { display: grid; grid-template-columns: 1fr 2fr; gap: 20px; }
@media (max-width: 900px) { .profile-container { grid-template-columns: 1fr; } }
.profile-card { text-align: center; }
.profile-picture-wrapper { position: relative; width: 150px; height: 150px; margin: 0 auto 20px; }
.avatar-display { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; background-color: #eee; }
#profile-view-photo, #profile-edit-photo { border: 4px solid var(--card-bg-color); }
.photo-upload-label { position: absolute; bottom: 8px; right: 8px; background-color: rgba(255, 255, 255, 0.5); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); color: var(--text-color); width: 40px; height: 40px; border-radius: 12px; display: flex; justify-content: center; align-items: center; cursor: pointer; border: 1px solid rgba(0, 0, 0, 0.1); box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: all 0.2s ease-in-out; }
.photo-upload-label:hover { background-color: rgba(255, 255, 255, 0.7); transform: scale(1.05); }
.form-group { margin-bottom: 15px; text-align: left; }
.form-group label { display: block; font-weight: 500; margin-bottom: 5px; }
#loading-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--bg-color); display: flex; justify-content: center; align-items: center; z-index: 9999; transition: opacity 0.5s; }
.loader { width: 50px; height: 50px; border: 5px solid var(--border-color); border-top-color: var(--primary-color); border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }
.form-switcher a { color: var(--primary-color); text-decoration: none; font-weight: 500; }
.form-switcher a:hover { text-decoration: underline; }
.privacy-setting { display: flex; justify-content: space-between; align-items: center; border-top: 1px solid var(--border-color); padding-top: 15px; margin-top: 15px; }
.privacy-setting label { margin-bottom: 0; }
.toggle-switch-container { position: relative; width: 50px; height: 28px; }
.toggle-switch { display: none; }
.toggle-label { position: absolute; top: 0; left: 0; width: 50px; height: 28px; background-color: var(--border-color); border-radius: 15px; cursor: pointer; transition: background-color 0.3s; }
.toggle-label::after { content: ''; position: absolute; width: 22px; height: 22px; border-radius: 50%; background-color: white; top: 3px; left: 4px; transition: transform 0.3s; box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
.toggle-switch:checked + .toggle-label { background-color: var(--success-color); }
.toggle-switch:checked + .toggle-label::after { transform: translateX(21px); }
.profile-header-card { background-color: var(--card-bg-color); border-radius: 16px; box-shadow: var(--shadow); margin-bottom: 20px; position: relative; overflow: visible; }
.profile-banner { height: 180px; background: linear-gradient(135deg, var(--primary-color), var(--accent-color)); position: relative; border-radius: 16px 16px 0 0; }
.profile-banner .edit-profile-fab { position: absolute; top: 15px; right: 15px; background-color: rgba(255, 255, 255, 0.2); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); border: 1px solid rgba(255, 255, 255, 0.3); color: white; width: 44px; height: 44px; border-radius: 50%; box-shadow: 0 4px 10px rgba(0,0,0,0.2); display: flex; justify-content: center; align-items: center; cursor: pointer; z-index: 3; }
.profile-banner .edit-profile-fab:hover { background-color: rgba(255, 255, 255, 0.4); }
#profile-view-photo.avatar-display { width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 6px solid var(--card-bg-color); background-color: var(--border-color); position: absolute; top: 180px; left: 50%; transform: translate(-50%, -50%); z-index: 2; }
.profile-info { text-align: center; padding: 90px 25px 25px; }
.profile-info h2 { border-bottom: none; padding-bottom: 0; margin-bottom: 5px; justify-content: center; }
#profile-view-lifebuddy-id { font-size: 1rem; margin-bottom: 15px; }
.bio-text { font-size: 1rem; color: var(--text-color); max-width: 600px; margin: 0 auto 15px; }
.join-date { font-size: 0.9em; }
.stats-grid h2 { margin-bottom: 1.5rem; }
.stats-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; }
.stat-item { background-color: var(--bg-color); border-radius: 12px; padding: 20px; text-align: center; border: 1px solid var(--border-color); }
.stat-icon { font-size: 2rem; line-height: 1; }
.stat-value { display: block; font-size: 1.8rem; font-weight: 700; margin: 8px 0; color: var(--primary-color); }
.stat-label { font-size: 0.9em; color: var(--subtle-text-color); }
.achievements-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; }
.view-all-link { font-size: 0.9em; font-weight: 500; text-decoration: none; color: var(--primary-color); display: flex; align-items: center; }
.modal-content.large { max-width: 800px; width: 95%; }
.modal-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 25px; border-bottom: 1px solid var(--border-color); text-align: left; }
.modal-header h3 { margin: 0; }
.modal-header .close-btn { position: static; }
.profile-selector-body { padding: 25px; display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 20px; max-height: 60vh; overflow-y: auto; }
.profile-option { border-radius: 50%; width: 120px; height: 120px; cursor: pointer; border: 4px solid transparent; transition: all 0.2s ease-in-out; overflow: hidden; justify-self: center; }
.profile-option:hover { transform: scale(1.05); border-color: var(--primary-color-light); }
.profile-option.selected { border-color: var(--primary-color); box-shadow: 0 0 10px var(--primary-color); }
.profile-option img { width: 100%; height: 100%; object-fit: cover; }
.wishlist-card { margin-top: 20px; }
.wishlist-card h2 { border-bottom: none; padding-bottom: 0; margin-bottom: 1.5rem; }
.wishlist-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; font-size: 1.2rem; font-weight: 500; }
.wishlist-card .progress-bar-wrapper { width: 100%; height: 12px; background-color: var(--border-color); border-radius: 10px; overflow: hidden; margin-top: 5px; }
#wishlist-progress-bar { height: 100%; width: 0; background: linear-gradient(90deg, #FFD700, #FFA500) !important; border-radius: 10px; transition: width 0.5s ease-in-out; }
.wishlist-info { display: flex; justify-content: space-between; margin-top: 10px; font-size: 0.9em; color: var(--subtle-text-color); }
.swal2-container { z-index: 2500 !important; }
.review-interval-selector { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 10px; background-color: var(--bg-color); padding: 15px; border-radius: 8px; }
.review-interval-selector label { display: flex; align-items: center; gap: 8px; font-size: 0.9em; }
.review-interval-selector input[type="checkbox"] { width: 18px; height: 18px; margin-bottom: 0; }
#revisit-topics-by-subject .subject-group { margin-bottom: 2rem; }
#revisit-topics-by-subject .subject-title { font-size: 1.4rem; border-bottom: 2px solid var(--primary-color); padding-bottom: 8px; margin-bottom: 1rem; }
.topic-list { list-style: none; padding-left: 0; }
.topic-item { display: flex; justify-content: space-between; align-items: center; padding: 12px; border-bottom: 1px solid var(--border-color); }
.topic-item:hover { background-color: var(--bg-color);}
.topic-info .next-review { font-size: 0.8em; color: var(--subtle-text-color);}
.emoji-selector { display: flex; justify-content: center; align-items: center; gap: 15px; margin-bottom: 25px; padding: 10px 0; }
.emoji-option { font-size: 3rem; cursor: pointer; transition: transform 0.2s ease, filter 0.2s ease; filter: grayscale(70%); opacity: 0.7; }
.emoji-option:hover { transform: scale(1.2); filter: grayscale(0%); opacity: 1; }
.emoji-option.selected { transform: scale(1.3); filter: grayscale(0%); opacity: 1; text-shadow: 0 0 15px var(--primary-color); }
.reason-title { text-align: left; margin-top: 20px; }
.reason-selector { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 12px; margin-bottom: 25px; }
.reason-option { display: flex; align-items: center; padding: 12px 15px; border: 1px solid var(--border-color); border-radius: 25px; cursor: pointer; transition: all 0.2s ease-in-out; background-color: var(--bg-color); }
.reason-option:hover { border-color: var(--subtle-text-color); }
.reason-option input[type="checkbox"] { display: none; }
.reason-icon-group { display: flex; align-items: center; gap: 8px; font-size: 1.2rem; margin-right: 10px; color: var(--subtle-text-color); transition: color 0.2s; }
.reason-icon-group .feather { width: 18px; height: 18px; }
.reason-option span { font-size: 0.95em; transition: color 0.2s; }
label.reason-option:has(input:checked) { background-color: var(--primary-color); border-color: var(--primary-color); color: white; }
label.reason-option:has(input:checked) .reason-icon-group { color: white; }
#rewards-page h1 { margin-bottom: 2rem; }
.exp-total-card { text-align: center; background: linear-gradient(135deg, var(--primary-color), var(--accent-color)); color: white; padding: 30px; margin-bottom: 2.5rem; }
.exp-total-card p { font-size: 1.2rem; font-weight: 300; color: rgba(255, 255, 255, 0.8); margin: 0; }
#total-exp-display { font-size: 4rem; font-weight: 700; line-height: 1.1; }
#rewards-page .card { background-color: transparent; border: none; box-shadow: none; padding: 0; }
.badges-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
.badge-card { display: flex; align-items: center; background-color: var(--card-bg-color); padding: 15px; border-radius: 12px; border: 1px solid var(--border-color); transition: transform 0.2s, box-shadow 0.2s; filter: grayscale(80%); opacity: 0.7; position: relative; }
.badge-card.unlocked { filter: grayscale(0%); opacity: 1; border-left: 5px solid var(--success-color); }
.badge-card:hover { transform: translateY(-5px); box-shadow: var(--shadow); }
.badge-icon { font-size: 2.5rem; margin-right: 15px; line-height: 1; }
.badge-info { flex-grow: 1; }
.badge-title { font-weight: 500; color: var(--text-color); margin-bottom: 3px; }
.badge-desc { font-size: 0.9em; color: var(--subtle-text-color); }
.badge-unlocked-tick { position: absolute; top: 10px; right: 10px; color: var(--success-color); }
.badge-unlocked-tick .feather { width: 20px; height: 20px; }
.level-progress-container { padding: 10px; }
.level-info { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
.level-badge { font-weight: 700; font-size: 1.1rem; background-color: var(--primary-color); color: white; padding: 5px 12px; border-radius: 20px; }
.exp-text { font-size: 0.95rem; color: var(--subtle-text-color); font-weight: 500; }
.progress-bar-wrapper { width: 100%; height: 12px; background-color: var(--border-color); border-radius: 10px; overflow: hidden; }
.progress-bar#exp-progress-bar { height: 100%; width: 0; background: linear-gradient(90deg, var(--primary-color), var(--accent-color)); border-radius: 10px; transition: width 0.5s ease-in-out; }
.level-badge-header { background-color: var(--primary-color) !important; color: white !important; font-weight: 700 !important; padding: 6px 16px !important; }
.level-badge-header .feather-star { color: #FFD700; fill: #FFD700; }
.focus-topic-selector { margin-bottom: 20px; text-align: center; }
.focus-topic-selector label { display: block; font-weight: 500; margin-bottom: 10px; }
#focus-topic { max-width: 400px; margin: 0 auto; text-align: center; font-weight: 500; }
.timer-card { padding: 40px 20px; }
#timer-display { font-size: 6rem; font-weight: 700; text-align: center; line-height: 1; margin-bottom: 10px; color: var(--text-color); }
@media (max-width: 600px) { #timer-display { font-size: 4.5rem; } }
#timer-mode { text-align: center; font-size: 1.2rem; font-weight: 500; color: var(--primary-color); margin-bottom: 25px; }
.timer-controls { display: flex; justify-content: center; align-items: center; gap: 15px; }
.timer-controls button { width: auto; flex-grow: 1; max-width: 200px; }
.timer-controls .icon-button { flex-grow: 0; width: 50px; height: 50px; border-radius: 50%; background: var(--bg-color); }
#focus-stats-section { margin-top: 20px; }
.stats-controls { display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 1px solid var(--border-color); padding-bottom: 15px; }
.stats-tab-btn { flex-grow: 1; background-color: var(--bg-color); color: var(--subtle-text-color); border: 1px solid var(--border-color); font-weight: 500; }
.stats-tab-btn.active { background-color: var(--primary-color); color: white; border-color: var(--primary-color); }
#focus-stats-display { list-style: none; padding: 0; margin: 0; }
.stat-item-focus { display: flex; align-items: center; justify-content: space-between; padding: 12px 5px; border-bottom: 1px solid var(--border-color); }
.stat-item-focus:last-child { border-bottom: none; }
.stat-topic-name { font-weight: 500; }
.stat-topic-time { font-weight: 700; font-size: 1.1rem; color: var(--primary-color); }
#check-in-btn .check-in-text { background-color: transparent !important; padding: 0 !important; }
#search-results-container { margin-top: 20px; max-height: 300px; overflow-y: auto; }
.search-result-item { display: flex; align-items: center; padding: 10px 15px; border-bottom: 1px solid var(--border-color); gap: 15px; }
.user-list-item:last-child, .search-result-item:last-child { border-bottom: none; }
.user-list-avatar, .search-result-item .profile-pic { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; flex-shrink: 0; background-color: var(--border-color); }
.user-list-avatar img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }
.user-info { flex-grow: 1; text-align: left; margin-left: 0; }
.user-info h4 { margin: 0; font-size: 1rem; line-height: 1.2; }
.user-info p { margin: 0; font-size: 0.85em; line-height: 1.2; }
.user-actions { display: flex; gap: 8px; flex-shrink: 0; }
.user-actions .small-btn { padding: 6px 12px; font-size: 0.85em; display: inline-flex; align-items: center; gap: 5px; }
.search-result-item:last-child { border-bottom: none; }
.search-result-item .user-info { flex-grow: 1; margin-left: 15px; text-align: left; }
.search-result-item .user-info h4 { margin: 0; }
.search-result-item .user-info p { margin: 0; font-size: 0.9em; }
.profile-follow-stats { display: flex; justify-content: center; gap: 40px; margin: 20px 0; }
.follow-stat-item { text-align: center; cursor: pointer; }
.follow-stat-value { font-size: 1.5rem; font-weight: 700; display: block; color: var(--text-color); }
.follow-stat-label { font-size: 0.9em; color: var(--subtle-text-color); }
.stat-item .stat-icon .feather { width: 28px; height: 28px; stroke-width: 2; }
.user-list-item { position: relative; cursor: pointer; }
.user-list-item.disabled { opacity: 0.6; cursor: not-allowed; }
.mutual-icon { position: absolute; top: 50%; right: 15px; transform: translateY(-50%); color: var(--success-color); }
.id-container { display: flex; justify-content: center; align-items: center; gap: 8px; margin-bottom: 15px; }
#profile-view-lifebuddy-id { margin-bottom: 0; }
#copy-id-btn { padding: 4px; border-radius: 8px; line-height: 1; }
#copy-id-btn:hover { background-color: var(--bg-color); }
.swal-title-levelup { font-size: 2.5rem !important; font-weight: 700 !important; color: var(--primary-color) !important; text-shadow: 0 2px 5px rgba(0,0,0,0.1); }
#shop-page h1 { justify-content: center; }
#shop-page .subtle-text { text-align: center; margin-top: -1.5rem; margin-bottom: 2.5rem; }
.shop-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 25px; margin-top: 20px; }
.shop-item-card { background-color: var(--bg-color); border: 1px solid var(--border-color); border-radius: 16px; text-align: center; padding: 15px; transition: transform 0.2s, box-shadow 0.2s; position: relative; overflow: hidden; display: flex; flex-direction: column; }
.shop-item-card:hover { transform: translateY(-5px); box-shadow: var(--shadow); }
.shop-item-preview { width: 100%; height: 120px; border-radius: 8px; background-color: var(--border-color); margin-bottom: 15px; object-fit: cover; border: 1px solid var(--border-color); }
.shop-item-name { font-weight: 500; color: var(--text-color); margin-bottom: auto; padding-bottom: 8px; }
.shop-item-price { display: flex; align-items: center; justify-content: center; gap: 5px; font-weight: 700; font-size: 1.1rem; color: var(--accent-color); margin: 8px 0; }
.shop-item-price .feather-dollar-sign { width: 1em; height: 1em; }
.shop-item-card .btn-buy { width: 100%; margin-top: 5px; }
.shop-item-card .btn-buy.disabled { opacity: 0.7; cursor: default; }
.shop-item-card .btn-buy.disabled:hover { transform: none; }
.shop-item-card .btn-buy[onclick*="ปลดล็อกแล้ว"] { background-color: var(--success-color); }
.shop-item-card .btn-buy[onclick*="ปลดล็อกแล้ว"]:hover { background-color: var(--success-color); }
.owned-tag { position: absolute; top: 12px; right: 12px; background-color: var(--success-color); color: white; padding: 4px 10px; border-radius: 20px; font-size: 0.75em; font-weight: 500; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
.banner-selector-body { padding: 25px; display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; max-height: 60vh; overflow-y: auto; }
.banner-option-card { border: 2px solid var(--border-color); border-radius: 12px; overflow: hidden; cursor: pointer; transition: all 0.2s ease-in-out; position: relative; background-color: var(--bg-color); }
.banner-option-card:hover { transform: translateY(-5px); border-color: var(--primary-color); box-shadow: var(--shadow); }
.banner-option-card.selected { border-color: var(--success-color); box-shadow: 0 0 15px var(--success-color); }
.banner-option-preview { width: 100%; height: 140px; background-size: cover; background-position: center; background-color: var(--border-color); }
.banner-option-preview[data-gradient="true"] { background-image: linear-gradient(135deg, var(--primary-color), var(--accent-color)); }
.banner-option-info { padding: 15px; text-align: center; font-weight: 500; }
.banner-option-card .selected-tick { display: none; position: absolute; top: 10px; right: 10px; width: 30px; height: 30px; background-color: var(--success-color); color: white; border-radius: 50%; justify-content: center; align-items: center; }
.banner-option-card.selected .selected-tick { display: flex; }
.chat-list-section-header { padding: 15px 20px 5px; color: var(--subtle-text-color); font-size: 0.9em; font-weight: 500; text-transform: uppercase; }
.follow-request-container { padding: 5px 10px; }
.follow-request-item { display: flex; align-items: center; padding: 10px; border-radius: 8px; margin-bottom: 5px; background-color: var(--bg-color); }
.request-info { flex-grow: 1; margin: 0 10px; line-height: 1.3; }
.request-info strong { display: block; color: var(--text-color); }
.request-info span { font-size: 0.85em; color: var(--subtle-text-color); }
.request-actions { display: flex; gap: 8px; }
.request-actions .small-btn { padding: 5px 10px; font-size: 0.8em; }
.loading-placeholder, .empty-placeholder { text-align: center; color: var(--subtle-text-color); padding: 40px 20px; }
#user-list-modal-body { max-height: 50vh; overflow-y: auto; padding: 10px 0 20px !important; }
.user-list-modal-item { display: flex; align-items: center; padding: 10px 25px; gap: 15px; }
.user-list-modal-item:hover { background-color: var(--bg-color); }
.user-list-modal-item .user-info { text-align: left; }
.modal-content .form-group { margin-bottom: 15px; text-align: left; position: relative; }
.modal-content .form-group input { margin-bottom: 0; }
.input-with-icon-wrapper { position: relative; width: 100%; }
#password-match-indicator { position: absolute; top: 50%; right: 15px; transform: translateY(-50%); color: var(--success-color); transition: opacity 0.3s; }
#password-match-indicator .feather { stroke-width: 3; }
.password-toggle-btn { position: absolute; top: 50%; right: 15px; transform: translateY(-50%); cursor: pointer; color: var(--subtle-text-color); background: transparent !important; border: none !important; padding: 5px !important; width: auto !important; height: auto !important; line-height: 1; -webkit-appearance: none; -moz-appearance: none; appearance: none; }
.password-toggle-btn:hover { background-color: transparent !important; color: var(--text-color); }
.password-toggle-btn:focus { outline: none; box-shadow: none; }
#password-match-indicator { right: 45px; }
.password-feedback-text { font-size: 0.85em; margin-top: 8px; color: var(--subtle-text-color); transition: color 0.3s; min-height: 1.2em; }
.password-feedback-text.weak { color: var(--danger-color); }
.password-feedback-text.medium { color: var(--accent-color); }
.password-feedback-text.strong { color: var(--success-color); }
.social-login-container { padding: 0 30px; margin-bottom: 20px; display: flex; flex-direction: column; align-items: center; gap: 20px; }
.social-login-container .separator { width: 100%; margin: 0; }
.modal-content > .separator { display: none; }
.page-view { display: none; }
.page-view:not(.hidden) { display: block; animation: fadeIn 0.5s ease-in-out; }
.with-icon { display: inline-flex; align-items: center; gap: 8px; }
#back-to-revisit-list-from-creation { margin-bottom: 20px; }
.section-divider { border: none; border-top: 1px solid var(--border-color); margin: 2rem 0; }
.quiz-type-selector { display: flex; gap: 20px; background-color: var(--bg-color); padding: 10px 15px; border-radius: 8px; }
#choices-wrapper .choice-item, #typed-answers-wrapper .typed-answer-item { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
#choices-wrapper .choice-item input[type="radio"] { width: 20px; height: 20px; flex-shrink: 0; margin: 0; }
#choices-wrapper .choice-item input[type="text"], #typed-answers-wrapper .typed-answer-item input[type="text"] { margin: 0; }
#choices-wrapper .choice-item .remove-btn, #typed-answers-wrapper .typed-answer-item .remove-btn { width: auto; padding: 5px; background: none; border: none; color: var(--danger-color); margin: 0; }
#created-quizzes-list-container { margin-top: 2rem; padding: 1.5rem; background-color: var(--bg-color); border-radius: 12px; }
#created-quizzes-list { list-style-type: none; margin-bottom: 1.5rem; }
#created-quizzes-list li { display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid var(--border-color); }
#created-quizzes-list li .quiz-text { flex-grow: 1; }
#created-quizzes-list li .actions { display: flex; gap: 8px; }
.quiz-header { display: flex; align-items: center; gap: 15px; margin-bottom: 2rem; }
.quiz-header .progress-bar-wrapper { flex-grow: 1; height: 16px; }
#quiz-progress-bar { height: 100%; border-radius: 10px; background-image: linear-gradient(90deg, var(--success-light), #4ade80); transition: width 0.4s ease-in-out; }
body[data-theme="dark"] #quiz-progress-bar { background-image: linear-gradient(90deg, var(--success-dark), #4ade80); }
.quiz-content { text-align: center; max-width: 700px; margin: 0 auto; }
#quiz-question-display { font-size: 1.8rem; margin-bottom: 2.5rem; }
#quiz-answers-container { display: grid; grid-template-columns: 1fr; gap: 15px; }
@media (min-width: 600px) { #quiz-answers-container { grid-template-columns: 1fr 1fr; } }
.quiz-choice-btn { padding: 1.2rem; font-size: 1.1rem; border: 2px solid var(--border-color); background-color: var(--card-bg-color); color: var(--text-color); transition: all 0.2s ease; text-align: center; }
.quiz-choice-btn:hover:not(:disabled) { border-color: var(--primary-color); background-color: var(--bg-color); transform: translateY(-3px); }
.quiz-choice-btn:disabled { cursor: not-allowed; opacity: 0.7; }
.quiz-choice-btn.selected { border-color: var(--primary-color); }
.quiz-choice-btn.correct { background-color: var(--success-color); border-color: var(--success-color); color: white; animation: tada 0.8s; }
.quiz-choice-btn.incorrect { background-color: var(--danger-color); border-color: var(--danger-color); color: white; animation: shake-horizontal 0.5s; }
#submit-typed-answer-btn { margin-top: 1rem; max-width: 300px; }
#quiz-feedback-footer { position: fixed; bottom: 0; left: 0; width: 100%; background-color: var(--card-bg-color); border-top: 1px solid var(--border-color); box-shadow: 0 -5px 20px rgba(0,0,0,0.1); transform: translateY(100%); transition: transform 0.4s ease-in-out; }
#quiz-feedback-footer:not(.hidden) { transform: translateY(0); }
#quiz-feedback-footer.correct { border-top: 4px solid var(--success-color); }
#quiz-feedback-footer.incorrect { border-top: 4px solid var(--danger-color); }
.feedback-content { display: flex; justify-content: space-between; align-items: center; padding: 1.5rem 2rem; max-width: 1200px; margin: 0 auto; }
.feedback-left #feedback-title { margin: 0 0 5px; font-size: 1.5rem; }
#quiz-feedback-footer.correct .feedback-left #feedback-title { color: var(--success-color); }
#quiz-feedback-footer.incorrect .feedback-left #feedback-title { color: var(--danger-color); }
.feedback-left #feedback-explanation-preview { margin: 0; font-size: 0.9em; opacity: 0.8; }
.feedback-right { display: flex; gap: 15px; }
@keyframes tada { from { transform: scale3d(1, 1, 1); } 10%, 20% { transform: scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg); } 30%, 50%, 70%, 90% { transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg); } 40%, 60%, 80% { transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg); } to { transform: scale3d(1, 1, 1); } }
@keyframes shake-horizontal { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); } 20%, 40%, 60%, 80% { transform: translateX(8px); } }
#revisit-subject-display { cursor: pointer; background-color: var(--card-bg-color); background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e"); background-repeat: no-repeat; background-position: right .75rem center; background-size: 16px 12px; }
body[data-theme="dark"] #revisit-subject-display { background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23e5e5e5' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e"); }
.subject-selector-body { padding: 10px 25px; max-height: 50vh; overflow-y: auto; text-align: left; }
.subject-option,
.category-option {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 10px;
    border-bottom: 1px solid var(--border-color);
    cursor: pointer;
    transition: background-color 0.2s;
}
.subject-option:last-child,
.category-option:last-child {
    border-bottom: none;
}
.subject-option:hover,
.category-option:hover {
    background-color: var(--bg-color);
}
.subject-option .remove-custom-subject-btn { background: none; border: none; color: var(--danger-color); padding: 5px; width: auto; margin: 0; opacity: 0.5; transition: opacity 0.2s; }
.subject-option:hover .remove-custom-subject-btn { opacity: 1; }
.custom-subject-footer { padding: 20px 25px; border-top: 1px solid var(--border-color); background-color: var(--bg-color); }
#add-custom-subject-form { display: flex; gap: 10px; }
#add-custom-subject-form input { margin: 0; }
#add-custom-subject-form button { margin: 0; flex-shrink: 0; }
/* Style สำหรับปุ่มเลือกหัวข้อที่สร้างขึ้นมาใหม่ */
.custom-selector-display {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    max-width: 400px;
    margin: 0 auto;
    padding: 12px 15px;
    font-family: var(--font-family);
    font-size: 1rem;
    font-weight: 500;
    text-align: left;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    background-color: var(--bg-color);
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.2s;
}

.custom-selector-display:hover {
    border-color: var(--primary-color);
}
/* =================================== */
/* ===== Timer Buttons Enhancement ===== */
/* =================================== */

/* ปรับปุ่มทั้งหมดในส่วน controls ให้มีขอบมน (ทรงแคปซูล/วงรี) */
.timer-controls button {
    border-radius: 50px; /* ค่าสูงๆ จะทำให้ขอบโค้งเป็นทรงแคปซูล */
    transition: all 0.3s ease; /* เพิ่มอนิเมชันที่นุ่มนวล */
    border: none; /* เอาเส้นขอบเดิมออกเพื่อให้ดูคลีนขึ้น */
}

/* เพิ่มเงาและเอฟเฟกต์ 'ลอย' ให้กับปุ่มหลัก (เริ่ม/ทำต่อ) */
.timer-controls #start-timer-btn {
    box-shadow: 0 4px 15px -5px var(--primary-color);
}
.timer-controls #start-timer-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 7px 20px -5px var(--primary-color);
}

/* ทำให้ปุ่ม 'รีเซ็ต' มีสไตล์ที่เข้ากัน */
.timer-controls #reset-timer-btn {
    background-color: var(--bg-color);
    color: var(--subtle-text-color);
    border: 1px solid var(--border-color);
}
.timer-controls #reset-timer-btn:hover {
    background-color: var(--border-color);
    color: var(--text-color);
}

/* ปรับปรุงปุ่มตั้งค่า (ฟันเฟือง) ให้เป็นวงกลมที่สวยงาม */
.timer-controls .icon-button {
    width: 50px;
    height: 50px;
    border-radius: 50%; /* ทำให้เป็นวงกลมสมบูรณ์ */
    background: var(--bg-color);
    color: var(--subtle-text-color);
    border: 1px solid var(--border-color);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}
body[data-theme="dark"] .timer-controls .icon-button {
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}
.timer-controls .icon-button:hover {
    transform: scale(1.1) rotate(45deg); /* เพิ่มเอฟเฟกต์หมุนเล็กน้อยเมื่อ hover */
    color: var(--text-color);
    background: var(--border-color);
}
/* ======================================= */
/* ===== Focus Stats Section Revamp ====== */
/* ======================================= */

.stats-controls {
    display: flex;
    gap: 10px;
    margin-bottom: 25px;
    padding: 6px;
    background-color: var(--bg-color);
    border-radius: 12px;
    border: 1px solid var(--border-color);
}

.stats-tab-btn {
    flex-grow: 1;
    background-color: transparent;
    color: var(--subtle-text-color);
    border: none;
    font-weight: 500;
    padding: 10px 15px;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.stats-tab-btn:hover:not(.active) {
    background-color: var(--border-color);
    color: var(--text-color);
}

.stats-tab-btn.active {
    background-color: var(--primary-color);
    color: white;
    box-shadow: 0 4px 12px -2px var(--primary-color);
}

/* สไตล์สำหรับรายการสถิติแบบ Progress Bar ===== */
#focus-stats-chart-container {
    display: flex;
    flex-direction: column;
    gap: 20px; /* ระยะห่างระหว่างแต่ละรายการ */
    width: 100%;
    padding: 10px 0;
}
/* ปรับปรุงรายการสถิติแต่ละรายการ */
#focus-stats-display {
    display: flex;
    flex-direction: column;
    gap: 18px; /* เพิ่มระยะห่างระหว่างรายการ */
}

.stat-item-focus {
    display: flex;
    flex-direction: column; /* เปลี่ยนเป็นแนวตั้งเพื่อรองรับ progress bar */
    gap: 8px;
    padding: 0;
    border: none; /* ไม่ต้องมีเส้นคั่น */
}

.stat-item-focus .stat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.stat-item-focus .stat-topic-name {
    font-weight: 500;
    font-size: 1.05rem;
    color: var(--text-color);
    display: flex;
    justify-content: space-between;
    width: 100%;
}

.stat-item-focus .stat-topic-time {
    font-weight: 500;
    font-size: 1rem;
    color: var(--subtle-text-color);
}

.stat-item-focus .stat-progress-bar-wrapper {
    width: 100%;
    height: 8px;
    background-color: var(--border-color);
    border-radius: 10px;
    overflow: hidden;
}

.stat-item-focus .stat-progress-bar {
    height: 100%;
    width: 0%; /* จะถูกกำหนดค่าโดย JS */
    border-radius: 10px;
    background: var(--primary-color);
    transition: width 0.5s ease-in-out;
}
/* ===== CSS เพิ่มเติมสำหรับฟอร์มและ Progress Bar ===== */

/* จัดเรียงฟอร์มเพิ่มวิชาให้สวยงาม */
#add-custom-subject-form {
    display: flex;
    align-items: center;
    gap: 10px;
}
#add-custom-subject-form input[type="text"] {
    flex-grow: 1; /* ทำให้ช่องข้อความยืดเต็มพื้นที่ */
    margin: 0;
}
#add-custom-subject-form button {
    margin: 0;
    flex-shrink: 0; /* ไม่ให้ปุ่มถูกบีบ */
}
/* สไตล์ของช่องเลือกสี */
#custom-subject-color {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 38px;
    height: 38px;
    padding: 0;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    background-color: transparent;
    cursor: pointer;
    flex-shrink: 0;
}
#custom-subject-color::-webkit-color-swatch {
    border-radius: 6px;
    border: none;
}

/* ทำให้ Progress bar มีสีแบบ Gradient สวยงามเป็นค่าเริ่มต้น */
.stat-item-focus .stat-progress-bar {
    background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
}
/* ======================================= */
/* ===== Swal Edit Subject UI Revamp ===== */
/* ======================================= */

/* จัด Layout ของส่วนเลือกสีใน Popup */
.swal-color-picker-wrapper {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 20px auto 0;
    padding: 10px 15px;
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    max-width: 90%; /* ให้พอดีกับความกว้างของ input ด้านบน */
}

/* สไตล์ของป้ายกำกับ (Label) */
.swal-color-label {
    font-weight: 500;
    font-size: 1rem;
    color: var(--text-color);
    margin: 0;
}

/* สไตล์ของช่องเลือกสี (ทำให้เป็นวงกลมและดูดี) */
.swal-color-input {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 32px;
    height: 32px;
    padding: 0;
    border: 2px solid rgba(0,0,0,0.1);
    border-radius: 50%;
    background-color: transparent;
    cursor: pointer;
    transition: transform 0.2s;
}
.swal-color-input:hover {
    transform: scale(1.1);
}

/* สไตล์ของ "สี" ที่แสดงอยู่ข้างใน */
.swal-color-input::-webkit-color-swatch {
    border-radius: 50%;
    border: none;
}
/* ======================================= */
/* ====== Planner Form Layout Revamp ====== */
/* ======================================= */

/* สร้าง Layout แบบ Grid */
.planner-form-grid {
    display: grid;
    grid-template-columns: 2fr 1fr; /* แบ่งคอลัมน์เป็น 2 ส่วน (ส่วนแรกกว้างกว่า) */
    gap: 15px; /* ระยะห่างระหว่างช่อง */
    margin-bottom: 15px;
}

/* ทำให้ช่อง "ชื่อกิจกรรม" กินพื้นที่เต็มความกว้าง (ทั้ง 2 คอลัมน์) */
#event-name {
    grid-column: 1 / -1; /* สั่งให้เริ่มจากเส้น Grid ที่ 1 ไปจนถึงเส้นสุดท้าย */
}

/* ทำให้ปุ่มเลือกหมวดหมู่และช่องเวลา อยู่ใน Grid โดยไม่มี margin ที่ไม่จำเป็น */
.planner-form-grid #event-category-selector-btn,
.planner-form-grid #event-time {
    margin-bottom: 0;
}

/* ทำให้ปุ่ม "เพิ่มกิจกรรม" มีความกว้างเต็ม 100% เพื่อความสวยงาม */
#planner-form button[type="submit"] {
    width: 100%;
}
/* ======================================= */
/* ====== Planner UI/UX Enhancement ====== */
/* ======================================= */

/* ปรับปรุงฟอร์มเพิ่มหมวดหมู่ใหม่ใน Modal */
#add-custom-category-form {
    display: flex;
    align-items: center;
    gap: 10px;
}
#add-custom-category-form input {
    flex-grow: 1;
    margin: 0;
}
#add-custom-category-form button {
    flex-shrink: 0;
    margin: 0;
    box-shadow: 0 4px 12px -3px var(--primary-color); /* เพิ่มเงาให้ปุ่ม */
    transition: all 0.2s ease;
}
#add-custom-category-form button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 15px -3px var(--primary-color);
}

/* ปรับปรุงรายการกิจกรรมที่แสดงผล */
#events-list {
    list-style: none;
    padding: 0;
    margin-top: 15px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

#events-list li {
    display: flex;
    justify-content: space-between; /* จัดให้เวลาอยู่ขวาสุด */
    align-items: center;
    padding: 12px 15px;
    background-color: var(--bg-color);
    border-radius: 8px;
    border-left: 4px solid var(--primary-color); /* เพิ่มแถบสีด้านซ้าย */
}

#events-list .event-details {
    display: flex;
    flex-direction: column; /* ทำให้ชื่อกิจกรรมและหมวดหมู่เรียงกันแนวตั้ง */
}

#events-list .event-name {
    font-weight: 500;
    color: var(--text-color);
}

#events-list .event-category {
    font-size: 0.85em;
    color: var(--subtle-text-color);
}

#events-list .event-time {
    font-weight: 700;
    font-size: 1.1rem;
    color: var(--primary-color);
}
/* ======================================= */
/* ====== Homepage Overview Revamp ======= */
/* ======================================= */

/* ปรับ Layout หลักของ Grid ให้เป็นแนวตั้ง */
.overview-grid {
    display: flex;
    flex-direction: column; /* เรียงเป็นแนวตั้ง */
    gap: 15px; /* ระยะห่างระหว่างการ์ด */
}

/* สไตล์ของการ์ดย่อยแต่ละใบ */
.overview-card {
    background-color: var(--bg-color); /* ใช้สีพื้นหลังที่ซอฟท์กว่า */
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 20px;
    transition: all 0.2s ease-in-out;
}
.overview-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow);
}

/* จัดเรียงส่วนหัวของการ์ด */
.overview-card-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 15px;
}
.overview-card-header h3 {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 500;
}

/* สไตล์ของวงกลมไอคอน */
.overview-icon-wrapper {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}
.overview-icon-wrapper .feather {
    width: 20px;
    height: 20px;
}

/* สไตล์ของเนื้อหาภายในการ์ด */
.overview-card-content {
    list-style: none;
    padding: 0;
    margin: 0;
    margin-left: 55px; /* ทำให้เนื้อหาตรงกับแนวของ Title */
    color: var(--subtle-text-color);
}
.overview-card-content li {
    padding: 4px 0;
}

/* สไตล์เฉพาะสำหรับส่วนสถิติโฟกัส */
.focus-stats-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.focus-stats-content p {
    margin: 0;
    color: var(--text-color);
}
.focus-stats-content strong {
    font-size: 1.2rem;
    color: var(--primary-color);
}
.focus-stats-content button {
    flex-shrink: 0; /* ไม่ให้ปุ่มถูกบีบ */
}
/* ======================================= */
/* ====== Homepage Banner Revamp ========= */
/* ======================================= */

.home-banner-card {
    position: relative;
    width: 100%;
    height: 180px; /* ความสูงของแบนเนอร์ */
    border-radius: 16px;
    overflow: hidden; /* ซ่อนส่วนที่เกินขอบ */
    margin-bottom: 20px;
    padding: 25px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    
    /* ตั้งค่าพื้นหลังเริ่มต้น */
    background-size: cover;
    background-position: center;
    background-color: var(--card-bg-color); /* สีสำรอง */
}

/* เพิ่ม Overlay สีเข้มจางๆ เพื่อให้ข้อความอ่านง่ายขึ้น */
.home-banner-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.3);
    z-index: 1;
}

/* ทำให้เนื้อหาอยู่บน Overlay */
.home-banner-content {
    position: relative;
    z-index: 2;
}

/* สไตล์ของข้อความต้อนรับ */
.home-banner-card h1 {
    color: white;
    font-size: 2.5rem;
    font-weight: 700;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
    border-bottom: none;
    margin: 0;
    padding: 0;
}
/* ===== Community Page Tabs ===== */
.community-tabs {
    display: flex;
    gap: 10px;
    border-bottom: 1px solid var(--border-color);
    margin-bottom: 25px;
}
.tab-btn {
    padding: 10px 20px;
    margin-bottom: -1px; /* ทำให้เส้นขอบล่างของปุ่มที่ active ทับเส้นของ container */
    border: none;
    border-bottom: 3px solid transparent;
    background: none;
    color: var(--subtle-text-color);
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}
.tab-btn:hover {
    color: var(--text-color);
}
.tab-btn.active {
    color: var(--primary-color);
    border-bottom-color: var(--primary-color);
}
.badge-count {
    background-color: var(--danger-color);
    color: white;
    font-size: 0.75em;
    padding: 2px 7px;
    border-radius: 10px;
    margin-left: 8px;
    font-weight: bold;
}
.tab-content {
    display: none;
}
.tab-content.active {
    display: block;
}
.user-list {
    list-style: none;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 15px;
}
.user-list-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px;
    background-color: var(--bg-color);
    border-radius: 12px;
    border: 1px solid var(--border-color);
}
/* ===== [แบบใหม่] Focus Stats Progress Bars ===== */
/* ===== [Final & Correct Version] Focus Stats Progress Bars ===== */
#focus-stats-chart-container {
    display: flex;
    flex-direction: column;
    gap: 20px; /* ระยะห่างระหว่างแต่ละรายการ */
    width: 100%;
    padding: 10px 0;
}

.stat-item-row {
    display: grid;
    /* แบ่งเป็น 3 คอลัมน์: ไอคอน, ชื่อ+บาร์, เวลา */
    grid-template-columns: 56px 1fr auto; 
    align-items: center;
    gap: 15px;
}

.stat-item-row .stat-icon {
    width: 56px;
    height: 56px;
    border-radius: 12px; /* ทำให้ไอคอนเป็นสี่เหลี่ยมขอบมน */
    overflow: hidden;
    background-color: var(--border-color);
}

.stat-item-row .stat-icon img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.stat-item-row .stat-details {
    display: flex;
    flex-direction: column;
    gap: 8px;
    overflow: hidden; /* ป้องกันข้อความยาวเกิน */
}

.stat-item-row .stat-name {
    font-weight: 500;
    color: var(--text-color);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.stat-item-row .stat-progress-bar-wrapper {
    width: 100%;
    height: 8px;
    background-color: var(--border-color);
    border-radius: 10px;
    overflow: hidden;
}

.stat-item-row .stat-progress-bar {
    height: 100%;
    width: 0%;
    border-radius: 10px;
    background: var(--primary-color);
    transition: width 0.5s ease-in-out;
}

.stat-item-row .stat-time {
    font-weight: 500;
    color: var(--subtle-text-color);
    font-size: 0.95em;
}

/* ซ่อน Legend ที่เราไม่ได้ใช้อีกต่อไป */
#focus-stats-legend {
    display: none;
}

/* ===== Icon Selector Modal Styles ===== */
.icon-selector-body {
    padding: 25px;
    display: grid;
    /* สร้างตารางไอคอนที่ปรับขนาดอัตโนมัติ */
    grid-template-columns: repeat(auto-fill, minmax(64px, 1fr));
    gap: 20px;
    max-height: 60vh;
    overflow-y: auto;
}

.icon-option {
    width: 64px;
    height: 64px;
    padding: 4px;
    border-radius: 50%;
    border: 3px solid transparent;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    background-color: var(--bg-color);
    justify-self: center; /* จัดให้อยู่กลางช่องตาราง */
}

.icon-option:hover {
    transform: scale(1.1);
    border-color: var(--primary-color);
}

.icon-option.selected {
    border-color: var(--success-color);
    box-shadow: 0 0 10px var(--success-color);
    transform: scale(1.1);
}

.icon-option img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
}

/* ทำให้ Icon Preview ใน Swal คลิกได้ */
.swal-icon-preview {
    display: block;
    width: 80px;
    height: 80px;
    margin: 20px auto 10px;
    border-radius: 50%;
    border: 3px solid var(--border-color);
    cursor: pointer;
    transition: transform 0.2s ease;
}
.swal-icon-preview:hover {
    transform: scale(1.1);
}
/* Style for Add New Subject Form */
#add-custom-subject-form {
    display: flex;
    align-items: center;
    gap: 10px;
}
#custom-subject-input {
    flex-grow: 1; /* ทำให้ช่องกรอกชื่อยืดเต็มที่ */
}
#add-custom-subject-icon-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 2px solid var(--border-color);
    background-color: var(--bg-color);
    flex-shrink: 0;
    /* เพิ่ม 2 บรรทัดนี้เพื่อให้รูปอยู่ตรงกลางสวยงาม */
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden; /* เพิ่มเพื่อให้แน่ใจว่ารูปไม่ล้นขอบ */
}

#add-custom-subject-icon-preview {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover; /* บังคับให้รูปเต็มพื้นที่โดยไม่เสียสัดส่วน */
}
/* ===== New Styles for Streak Freeze ===== */

/* สไตล์สำหรับปุ่ม "กู้ไฟ" (ไฟเย็น) */
#check-in-btn.restore-streak {
    background-color: #0A84FF; /* สีฟ้า/น้ำเงิน */
    padding: 8px 12px; /* ปรับ padding ให้พอดีกับข้อความที่ยาวขึ้น */
}
#check-in-btn.restore-streak:hover {
    background-color: #3b9dff;
}

/* ทำให้ข้อความหลัก (เช่น กู้ไฟ) และข้อความย่อย (เช่น เหลือ x ครั้ง) เรียงกันสวยงาม */
#check-in-btn .check-in-text {
    display: flex;
    flex-direction: column;
    align-items: center;
    line-height: 1.1;
}

/* สไตล์สำหรับข้อความย่อย */
.check-in-subtext {
    font-size: 0.7em;
    font-weight: 300;
    opacity: 0.8;
    margin-top: 2px;
}
/* ======================================= */
/* ======   Streak Modal Pop-up   ====== */
/* ======================================= */

/* ทำให้ส่วนแสดงสตรีคใน Header กดได้ */
#streak-display {
    cursor: pointer;
    transition: transform 0.2s ease;
}
#streak-display:hover {
    transform: scale(1.1);
}

/* ปรับแต่งเนื้อหาภายใน SweetAlert */
.swal2-html-container {
    margin: 0 !important;
    padding: 0 !important;
}

/* สไตล์ไอคอนอิโมจิอันใหญ่ */
.swal-streak-icon {
    font-size: 5rem; /* ขนาดใหญ่เด่น */
    margin: 10px 0 15px;
    line-height: 1;
    animation: bounce-in 0.6s ease;
}

/* สไตล์หัวข้อ */
.swal-streak-title {
    font-size: 1.8rem;
    font-weight: 700;
    margin-bottom: 12px;
    text-align: center;
    color: var(--text-color)
}

/* สไตล์ข้อความหลัก */
.swal-streak-text {
    font-size: 1rem;
    color: var(--subtle-text-color);
    line-height: 1.6;
    margin: 0 auto;
    max-width: 90%;
}

/* สไตล์ข้อความย่อย (เช่น จำนวนไฟเย็น) */
.swal-streak-subtext {
    font-size: 0.9em;
    color: var(--subtle-text-color);
    margin-top: 15px;
    opacity: 0.8;
}

/* สไตล์ปุ่มเช็คอินแบบ "ปุ๊กปิ๊ก" */
.swal-checkin-button {
    font-family: var(--font-family);
    font-size: 1.1rem;
    font-weight: 500;
    color: white;
    background: var(--accent-color); /* สีส้ม */
    border: none;
    border-radius: 12px;
    padding: 14px 30px; /* เพิ่มความสูงของปุ่มเล็กน้อย */
    margin: 25px 20px 20px; /* [จุดสำคัญ] เพิ่มระยะห่างซ้าย-ขวา-ล่าง */
    cursor: pointer;
    transition: all 0.2s ease-out;
    box-shadow: 0 5px 20px -5px var(--accent-color); /* เพิ่มความฟุ้งของเงา */
    display: block;
    width: calc(100% - 40px); /* ทำให้ปุ่มมีความกว้างเกือบเต็ม แต่มีขอบ */
}

.swal-checkin-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px -5px var(--accent-color);
}

.swal-checkin-button:active {
    transform: scale(0.95); /* เอฟเฟกต์กดแล้วยุบ */
    box-shadow: 0 2px 10px -5px var(--accent-color);
}

/* สไตล์สำหรับปุ่ม "กู้ไฟ" โดยเฉพาะ */
.swal-checkin-button.swal-restore-button {
    background: #0A84FF; /* สีฟ้า */
    box-shadow: 0 5px 15px -5px #0A84FF;
}

.swal-checkin-button.swal-restore-button:hover {
    box-shadow: 0 8px 20px -5px #0A84FF;
}

/* อนิเมชันสำหรับไอคอน */
@keyframes bounce-in {
    0% { transform: scale(0.5); opacity: 0; }
    70% { transform: scale(1.05); opacity: 1; }
    100% { transform: scale(1); }
}
/* สไตล์สำหรับปุ่ม "รับทราบ" ที่ปรับปรุงใหม่ */
.swal-acknowledge-button {
    border-radius: 50px !important; /* ทำให้โค้งมนเป็นทรงแคปซูล */
    padding: 10px 30px !important;
    font-weight: 500 !important;
    background-color: var(--primary-color) !important;
    transition: all 0.2s ease !important;
    box-shadow: 0 4px 15px -5px var(--primary-color);
}

.swal-acknowledge-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px -5px var(--primary-color);
}
/* ===== สำหรับจัดกลุ่มหัวข้อ Pop-up ===== */
.swal-streak-header {
    display: flex;
    flex-direction: column; /* เรียงจากบนลงล่าง */
    align-items: center;   /* จัดให้อยู่กึ่งกลางแนวนอน */
    margin-bottom: 20px;   /* เพิ่มระยะห่างด้านล่าง */
}

/* ===== สไตล์หัวข้อ ===== */
.swal-streak-title {
    font-size: 1.8rem;
    font-weight: 700;
    color: #000000;      /* เปลี่ยนฟอนต์เป็นสีดำ */
    text-align: center;
    margin-top: 10px;     /* ระยะห่างระหว่างไอคอนกับข้อความ */
    margin-bottom: 0;     /* เอา margin ด้านล่างออก */
}
/* ======================================= */
/* ======   Sidebar Coin Display   ======= */
/* ======================================= */

.sidebar-stat-display {
    padding: 12px 20px;
    display: flex;
    align-items: center;
    gap: 0; /* เอา gap เดิมออกเพื่อควบคุมระยะห่างเอง */
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-color);
    margin-bottom: 5px;
    border-bottom: 1px solid var(--border-color);
}

/* [ใหม่] สไตล์สำหรับอิโมจิเหรียญ */
.coin-icon {
    font-size: 1.5rem; /* ปรับขนาดอิโมจิให้ใหญ่ขึ้นเล็กน้อย */
    line-height: 1;
    margin-right: 12px; /* ระยะห่างระหว่างไอคอนกับข้อความ */
}

/* [ใหม่] สไตล์สำหรับป้าย "Coins:" */
.coin-label {
    margin-right: 8px; /* ระยะห่างระหว่าง "Coins:" กับตัวเลข */
}

/* ทำให้ตัวเลขเหรียญมีสีที่เด่นขึ้น (เหมือนเดิม) */
#sidebar-coin-count {
    color: var(--primary-color);
}
/* ======================================= */
/* ======    Student Hub Page     ====== */
/* ======================================= */

/* จัดวางการ์ดฟีเจอร์ต่างๆ ด้วย Grid */
.student-hub-grid {
    display: grid;
    /* สร้างคอลัมน์อัตโนมัติ โดยแต่ละคอลัมน์กว้างอย่างน้อย 320px */
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 25px;
}

/* สไตล์ของการ์ดแต่ละใบ */
.student-feature-card {
    padding: 30px;
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* ดันป้ายสถานะไปไว้ด้านล่าง (ถ้าไม่ใช้ position) */
    min-height: 200px;
    transition: transform 0.2s, box-shadow 0.2s;
    position: relative; /* สำคัญมากสำหรับการทำป้าย Ribbon */
    overflow: hidden; /* ซ่อนส่วนเกินของ Ribbon */
    border: 1px solid var(--border-color);
}

.student-feature-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow);
}

.student-feature-card h2 {
    font-size: 1.4rem;
    border-bottom: none; /* ไม่ต้องมีเส้นใต้ */
    padding-bottom: 0;
}

/* ทำให้ p tag กินพื้นที่ที่เหลือเพื่อดันองค์ประกอบอื่น */
.student-feature-card p {
    margin: 10px 0 auto;
}
/* ======================================= */
/* ======   GPA Calculator Styles   ====== */
/* ======================================= */
#gpa-table-container {
    margin-top: 25px;
    border: 1px solid var(--border-color);
    border-radius: 12px;
    overflow: hidden; /* ทำให้ขอบมนสวยงาม */
    background-color: var(--card-bg-color);
}

/* ใช้ Grid Layout สำหรับตาราง */
.gpa-table-header, .gpa-table-row {
    display: grid;
    grid-template-columns: 50px 1fr 150px 120px; /* ขนาดคอลัมน์: ลำดับ, ชื่อวิชา, หน่วยกิต, เกรด */
    align-items: center;
    gap: 15px;
    padding: 0 15px;
}

.gpa-table-header {
    background-color: var(--bg-color);
    padding: 12px 15px;
    font-weight: 500;
    color: var(--subtle-text-color);
    border-bottom: 1px solid var(--border-color);
}

.gpa-table-row {
    border-bottom: 1px solid var(--border-color);
    display: grid;
    grid-template-columns: 50px 1fr 150px 120px;
    align-items: center;
    gap: 15px;
    padding: 8px 15px; /* [เพิ่ม/แก้ไข] เพิ่ม padding บนล่าง */
}
.gpa-table-row:last-child {
    border-bottom: none;
}
.gpa-table-row span:first-child {
    font-weight: 500;
    color: var(--subtle-text-color);
    text-align: center;
}

/* สไตล์ Input และ Custom Control */
.gpa-table-row input[type="text"],
.gpa-table-row .credit-stepper,
.gpa-table-row .grade-selector {
    padding: 10px;
    margin: 10px 0; /* เพิ่ม margin บนล่าง */
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 0.95rem;
}

/* สไตล์สำหรับช่อง "หน่วยกิต" แบบกำหนดเอง */
.credit-stepper {
    display: flex;
    justify-content: space-between; /* จัดให้ตัวเลขและปุ่มอยู่คนละฝั่ง */
    align-items: center;
    gap: 8px;
    padding: 6px 8px; /* ปรับ padding ด้านข้างเล็กน้อย */
}
/* กลุ่มปุ่มแนวตั้ง */
.stepper-buttons-vertical {
    display: flex;
    flex-direction: column;
    gap: 3px; /* ลดระยะห่างระหว่างปุ่ม */
    height: 100%; /* ทำให้กลุ่มปุ่มสูงเต็ม container */
    justify-content: center; /* จัดให้อยู่กลางแนวตั้ง */
}
.credit-stepper-btn {
    background-color: transparent; /* ทำให้โปร่งใส */
    border: none; /* เอาเส้นขอบออก */
    color: var(--subtle-text-color);
    width: 20px;
    height: 12px; /* [สำคัญ] ลดความสูงของปุ่มลงมาก */
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    margin: 0;
    transition: all 0.2s;
    font-weight: bold;
    font-size: 1rem;
    line-height: 1;
}

.credit-stepper-btn:hover {
    background-color: var(--border-color);
    color: var(--primary-color);
}
.credit-value {
    font-weight: 700;
    font-size: 1rem;
    text-align: center;
    color: var(--text-color);
    flex-grow: 1; /* ทำให้ตัวเลขกินพื้นที่ตรงกลาง */
}

/* สไตล์สำหรับช่อง "เกรด" แบบกำหนดเอง */
.grade-selector {
    cursor: pointer;
    text-align: center;
    transition: all 0.2s;
}
.grade-selector:hover {
    border-color: var(--primary-color);
}
.grade-selector.active {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px var(--primary-color-light);
}

/* สไตล์สำหรับ Pop-up เลือกเกรด */
#grade-popup {
    position: absolute;
    background-color: var(--card-bg-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    box-shadow: var(--shadow);
    z-index: 1050; /* ให้อยู่เหนือองค์ประกอบอื่น */
    padding: 5px;
    width: 150px;
}
.grade-option {
    padding: 10px 15px;
    cursor: pointer;
    border-radius: 6px;
    font-weight: 500;
}
.grade-option:hover {
    background-color: var(--primary-color);
    color: white;
}

/* สไตล์ปุ่มควบคุมด้านล่าง */
.gpa-actions {
    display: flex;
    justify-content: flex-end;
    gap: 15px;
    margin-top: 25px;
}
.gpa-actions button {
    width: auto;
    padding: 12px 30px;
}
.btn-danger-secondary {
    background-color: rgba(255, 59, 48, 0.15);
    color: var(--danger-color);
    border: 1px solid var(--danger-color);
}
.btn-danger-secondary:hover {
    background-color: rgba(255, 59, 48, 0.3);
}
/* ======================================= */
/* ====== GPA Result Swal Styles  ====== */
/* ======================================= */

.swal-gpa-result {
    padding: 10px 0;
}

/* สไตล์ของตัวเลข GPA ตัวใหญ่ */
.gpa-value {
    display: block;
    font-size: 4.5rem;
    font-weight: 700;
    color: var(--primary-color);
    line-height: 1.1;
    margin: 15px 0;
    text-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

/* สไตล์ของส่วนสรุปคะแนนและหน่วยกิต */
.gpa-summary {
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 15px;
    margin-top: 20px;
}

.gpa-summary p {
    display: flex;
    justify-content: space-between;
    font-size: 1.1rem;
    color: var(--text-color);
    margin: 8px 0;
}

.gpa-summary strong {
    color: var(--text-color);
}
/* ======================================= */
/* ====== GPA View Header & Buttons ====== */
/* ======================================= */

/* จัดการ Layout ของส่วนหัวในหน้า GPA */
.gpa-view-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap; /* ทำให้ปุ่มตกบรรทัดได้บนจอมือถือ */
    gap: 20px;
    margin-bottom: 10px;
}

.gpa-view-header h2 {
    margin: 0; /* เอา margin เดิมออก */
}

.header-actions {
    display: flex;
    gap: 10px;
}

/* อัปเกรดสไตล์ของปุ่มใน Header */
.header-actions .small-btn {
    border-radius: 50px; /* ทำให้โค้งมนเป็นทรงแคปซูล */
    font-weight: 500;
    padding: 10px 20px;
    box-shadow: 0 4px 12px -3px rgba(0,0,0,0.1);
    transition: all 0.2s ease-out;
}
body[data-theme="dark"] .header-actions .small-btn {
     box-shadow: 0 4px 15px -3px rgba(0,0,0,0.4);
}

.header-actions .small-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 18px -3px rgba(0,0,0,0.15);
}
body[data-theme="dark"] .header-actions .small-btn:hover {
     box-shadow: 0 6px 20px -3px rgba(0,0,0,0.5);
}

/* สไตล์ปุ่ม "กลับ" (ปุ่มหลัก) */
#gpa-back-btn {
    background-color: var(--primary-color);
    color: white;
    border: none;
}

/* สไตล์ปุ่ม "บันทึก" (ปุ่มรอง) */
#gpa-save-btn {
    background-color: var(--bg-color);
    color: var(--text-color);
    border: 1px solid var(--border-color);
}
#gpa-save-btn:hover {
     background-color: var(--border-color);
}
/* ======================================= */
/* ====== GPA History & Add New   ====== */
/* ======================================= */

/* ปุ่มใหญ่สำหรับเพิ่มผลการเรียนใหม่ */
.add-new-record-btn {
    width: 100%;
    padding: 25px;
    margin: 25px 0;
    border: 2px dashed var(--border-color);
    border-radius: 12px;
    background-color: var(--bg-color);
    color: var(--subtle-text-color);
    font-size: 1.2rem;
    font-weight: 500;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 15px;
    cursor: pointer;
    transition: all 0.2s;
}
.add-new-record-btn:hover {
    border-color: var(--primary-color);
    color: var(--primary-color);
    background-color: rgba(10, 132, 255, 0.05); /* สีฟ้าอ่อนๆ */
}
.add-new-record-btn .feather {
    width: 32px;
    height: 32px;
}

/* รายการประวัติผลการเรียน */
#gpa-history-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
}
.gpa-history-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 20px;
    background-color: var(--card-bg-color);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s;
}
.gpa-history-item:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow);
    border-color: var(--primary-color);
}
.history-item-icon {
    font-size: 2rem;
    line-height: 1;
}
.history-item-info {
    flex-grow: 1;
}
.history-item-info h4 {
    margin: 0;
    font-size: 1.2rem;
    font-weight: 500;
}
.history-item-info p {
    margin: 0;
    font-size: 0.9em;
}
.history-item-actions .icon-button:hover {
    color: var(--danger-color);
}

/* แก้ไขปุ่มคำนวณในหน้า GPA เดิมให้เป็นปุ่มบันทึก */
#gpa-save-record-btn {
    /* ใช้สไตล์เดียวกับปุ่มคำนวณเดิม */
    background-color: var(--primary-color);
    color: white;
}
/* ======================================= */
/* ======   Responsive GPA Table    ====== */
/* ======================================= */

/* ใช้กฎนี้เมื่อความกว้างหน้าจอน้อยกว่าหรือเท่ากับ 768px */
@media (max-width: 768px) {
    .gpa-table-header, .gpa-table-row {
        /* [จุดที่แก้ไข] ลดความกว้างคอลัมน์หน่วยกิตลงอีก */
        grid-template-columns: 35px 1fr 60px 85px; 
        gap: 8px;
        padding: 0 10px;
    }

    .gpa-table-header {
        padding: 10px;
        font-size: 0.85em; /* ลดขนาดฟอนต์หัวตาราง */
    }

    /* ปรับขนาดฟอนต์และ Padding ของ Input ให้น้อยลง */
    .gpa-table-row input[type="text"],
    .gpa-table-row .credit-stepper,
    .gpa-table-row .grade-selector {
        padding: 10px;
        margin: 0; /* เอา margin เดิมออก */
        background-color: var(--bg-color);
        border: 1px solid var(--border-color);
        border-radius: 8px;
        font-size: 0.95rem;
        height: 42px; /* [สำคัญ] กำหนดความสูงให้เท่ากันทุกช่อง */
        box-sizing: border-box; /* ทำให้ padding และ border รวมอยู่ใน height */
    }

    /* ย่อขนาดปุ่ม +/- หน่วยกิต */
    .credit-stepper-btn {
        width: 22px;  /* ลดความกว้างลงอีก */
        height: 22px; /* ลดความสูงลงอีก */
        border-radius: 6px; /* เปลี่ยนจากวงกลมเป็นสี่เหลี่ยมขอบมน */
        font-weight: bold;  /* ทำให้ลูกศรหนาขึ้น */
        padding: 0;         /* เอา padding ที่ไม่จำเป็นออก */
        line-height: 1;     /* จัดกลางแนวตั้ง */
    }

    /* ปรับ Layout ของ Header ด้านบนสุด (ปุ่มและหัวข้อ) */
    .gpa-view-header {
        flex-direction: column; /* เรียงเป็นแนวตั้ง */
        align-items: flex-start; /* จัดชิดซ้าย */
        gap: 15px;
    }

    .header-actions {
        width: 100%; /* ทำให้กลุ่มปุ่มกว้างเต็ม */
        justify-content: space-between; /* จัดให้ปุ่มอยู่คนละฝั่ง */
    }

    .header-actions .small-btn {
        flex-grow: 1; /* ทำให้ปุ่มขยายเต็มพื้นที่ */
        text-align: center;
        justify-content: center;
    }
}
/* ======================================================= */
/* ====== TCAS Score Input Form Styles   ====== */
/* ======================================================= */

.score-section {
    margin-bottom: 20px;
}
.score-section h3 {
    margin-bottom: 5px;
    color: var(--accent-color); /* เปลี่ยนสีหัวข้อให้เด่นขึ้น */
}
.score-section .subtle-text {
    margin-top: 0;
    margin-bottom: 20px;
}

.score-input-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 20px 15px;
}

.score-input-item {
    position: relative;
    display: flex;
    flex-direction: column; /* [ใหม่] เรียง Label และ Input เป็นแนวตั้ง */
    align-items: stretch;   /* [ใหม่] ทำให้องค์ประกอบยืดเต็มความกว้าง */
    gap: 8px; /* ระยะห่างระหว่าง Label กับ Input */
}

.score-input-item input {
    width: 100%; /* ทำให้ input กว้างเต็ม */
    padding: 12px; /* กลับไปใช้ Padding ปกติ */
    text-align: left;
    font-weight: 500;
    font-size: 1rem;
    box-sizing: border-box;
    margin: 0; /* เอา margin ที่ไม่จำเป็นออก */
}
.score-input-item label {
    font-size: 0.9em;
    font-weight: 500;
    color: var(--text-color); /* ใช้สีข้อความปกติ */
    text-align: left; /* จัดชิดซ้าย */
    /* ไม่ต้องใช้ position: absolute อีกต่อไป */
}
.score-input-item input:focus + label,
.score-input-item input:not(:placeholder-shown) + label {
    top: 8px; /* ตำแหน่งเดิม */
    font-size: 0.75em; /* ขนาดเดิม */
}
.score-section .score-input-item input[name="GPAX6_SCORE"],
#specific-subject-inputs .score-input-item input {
    text-align: left; /* ทำให้ตัวเลขชิดซ้าย */
}

#specific-subject-inputs .score-input-item input {
    height: 42px;
    box-sizing: border-box;
}

.remove-specific-subject-btn {
    width: 48px;
    height: 48px;
    flex-shrink: 0;
    border-radius: 8px;
    background-color: var(--bg-color);
    color: var(--danger-color);
    border: 1px solid var(--border-color); /* [แก้ไข] กลับไปใช้สีกรอบปกติ */
    transition: all 0.2s;
    margin-left: 10px; /* [ใหม่] เพิ่มระยะห่างด้านซ้าย */
}
.remove-specific-subject-btn:hover {
    background-color: rgba(255, 59, 48, 0.1);
}
.remove-specific-subject-btn .feather {
    width: 20px;
    height: 20px;
}
#specific-subject-inputs .score-input-item {
    margin-bottom: 15px;
    flex-direction: row; /* จัดเรียงแนวนอน */
    align-items: flex-end; /* [สำคัญ] จัดให้ชิดด้านล่างของ flex container */
    gap: 10px; /* เพิ่มระยะห่างระหว่าง input กับปุ่ม */
}
#specific-subject-inputs .score-input-item .input-wrapper {
    flex-grow: 1; /* ทำให้ส่วนของ Input ยืดเต็มที่ */
}
/* ปรับ input ให้มีที่สำหรับ label */
.score-input-item input {
    flex-grow: 1;
    height: 58px; /* เพิ่มความสูงของช่องกรอก */
    padding: 22px 12px 6px; /* ปรับ padding ใหม่: บน กลาง ล่าง */
    text-align: left; /* [แก้ไข] จัดชิดซ้ายเป็นค่าเริ่มต้น */
    font-weight: 500;
    font-size: 1.1rem; /* เพิ่มขนาดฟอนต์ตัวเลข */
    box-sizing: border-box;
}
.tgat-grid input, .tpat-grid input, .alevel-grid input {
    text-align: right;
}

/* จัดการ Layout ของ Section วิชาเฉพาะ */
#specific-subject-inputs .score-input-item {
    margin-bottom: 15px;
}
/* ======================================= */
/* ======   Swal Info Text Styles   ====== */
/* ======================================= */

.swal-info-text {
    text-align: center; /* จัดให้อยู่กึ่งกลาง */
    margin: 10px auto 0;
    display: inline-block; /* ทำให้ block พอดีกับเนื้อหา */
}

.swal-info-text p {
    text-align: left; /* จัด bullet ให้อยู่ชิดซ้าย */
    font-size: 0.95rem;
    line-height: 1.7;
    margin-bottom: 8px;
    color: var(--subtle-text-color);
}
/* จัดตำแหน่งช่องกรอก GPAX */
.score-section .score-input-item input,
#specific-subject-inputs .score-input-item input {
    text-align: left; /* ทำให้ตัวเลขชิดซ้ายเป็นค่าเริ่มต้น */
}
/* ======================================================= */
/* ====== [NEW] TCAS Major Selection Card Styles     ====== */
/* ======================================================= */
.major-list-container {
    display: grid;
    grid-template-columns: 1fr; /* 1 คอลัมน์เป็นค่าเริ่มต้น */
    gap: 12px;
    margin-top: 20px;
}

.major-card {
    background-color: var(--card-bg-color);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 20px;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    border-left: 5px solid transparent; /* เตรียมพื้นที่สำหรับแถบสีด้านซ้าย */
}

.major-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow);
    border-left-color: var(--primary-color); /* แสดงแถบสีเมื่อ hover */
}

.major-card h4 {
    margin: 0 0 5px;
    color: var(--text-color);
    font-size: 1.1rem;
    font-weight: 500;
}

.major-card p {
    margin: 0;
    font-size: 0.9em;
    color: var(--subtle-text-color);
    line-height: 1.5;
}
/* ======================================= */
/* ======   TCAS Feature Buttons    ====== */
/* ======================================= */

/* --- สไตล์หลักสำหรับปุ่มทั้งหมดในหน้า TCAS --- */
#tcas-feature-wrapper button {
    border-radius: 50px; /* ทำให้ปุ่มกลมมนเป็นทรงแคปซูล */
    border: none;
    font-weight: 500;
    padding: 12px 30px; /* ขนาดปุ่มมาตรฐาน */
    transition: all 0.2s ease-out; /* เพิ่มอนิเมชันที่นุ่มนวล */
    cursor: pointer;
}

/* --- สไตล์สำหรับปุ่มหลัก (Primary Button) เช่น "คำนวณผล" --- */
#tcas-calculate-btn {
    background-color: var(--primary-color);
    color: white;
    box-shadow: 0 4px 15px -5px var(--primary-color); /* เพิ่มแสงเงาให้ปุ่ม */
}

#tcas-calculate-btn:hover {
    transform: translateY(-3px); /* ทำให้ปุ่มลอยขึ้นเมื่อเมาส์ไปวาง */
    box-shadow: 0 7px 20px -5px var(--primary-color); /* เพิ่มความฟุ้งของเงา */
}

#tcas-calculate-btn:active {
    transform: translateY(0) scale(0.98); /* ทำให้ปุ่มยุบลงเมื่อคลิก */
    box-shadow: 0 2px 8px -3px var(--primary-color);
}


/* --- สไตล์สำหรับปุ่มรอง (Secondary Button) เช่น "กลับไป..." --- */
#tcas-feature-wrapper .small-btn {
    background-color: var(--bg-color);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    padding: 10px 25px; /* ปรับขนาดให้เล็กลงเล็กน้อย */
    box-shadow: 0 4px 12px -5px rgba(0,0,0,0.1); /* เงาสีกลางๆ */
}
/* สำหรับ Dark Mode */
body[data-theme="dark"] #tcas-feature-wrapper .small-btn {
    box-shadow: 0 4px 15px -5px rgba(0,0,0,0.3);
}


#tcas-feature-wrapper .small-btn:hover {
    transform: translateY(-2px);
    border-color: var(--primary-color); /* เปลี่ยนสีกรอบเมื่อเมาส์ไปวาง */
    color: var(--primary-color);       /* เปลี่ยนสีตัวอักษรเมื่อเมาส์ไปวาง */
    box-shadow: 0 6px 18px -5px rgba(0,0,0,0.15);
}
body[data-theme="dark"] #tcas-feature-wrapper .small-btn:hover {
    box-shadow: 0 6px 20px -5px rgba(0,0,0,0.4);
}
/* ======================================= */
/* ======   Header Menu Button Revamp   ====== */
/* ======================================= */

/* --- ปรับปรุงสไตล์หลักของปุ่มเมนู --- */
#open-menu.icon-button {
    width: 44px; /* กำหนดความกว้าง */
    height: 44px; /* กำหนดความสูง */
    display: flex; /* ใช้ Flexbox เพื่อจัดไอคอนให้อยู่ตรงกลาง */
    align-items: center;
    justify-content: center;
    background-color: var(--card-bg-color); /* ใช้สีพื้นหลังเดียวกับการ์ด */
    border-radius: 12px; /* ทำให้ขอบมนสวยงาม */
    color: var(--primary-color); /* เปลี่ยนสีไอคอนเป็นสีหลักของเว็บ */
    box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.1); /* เพิ่มเงาจางๆ */
    transition: all 0.2s ease-out; /* เพิ่มอนิเมชันที่นุ่มนวล */
}

/* สำหรับ Dark Mode */
body[data-theme="dark"] #open-menu.icon-button {
    background-color: var(--card-bg-dark);
    box-shadow: 0 4px 15px -2px rgba(0, 0, 0, 0.3);
}

/* --- เพิ่มการตอบสนองเมื่อเมาส์ไปวาง (Hover) --- */
#open-menu.icon-button:hover {
    transform: translateY(-2px) scale(1.05); /* ทำให้ปุ่มลอยขึ้นและขยายเล็กน้อย */
    background-color: var(--primary-color); /* เปลี่ยนพื้นหลังเป็นสีหลัก */
    color: white; /* เปลี่ยนไอคอนเป็นสีขาว */
    box-shadow: 0 7px 20px -5px var(--primary-color); /* เพิ่มความฟุ้งของเงา */
}

/* --- เพิ่มการตอบสนองเมื่อคลิก (Active) --- */
#open-menu.icon-button:active {
    transform: translateY(0) scale(0.95); /* ทำให้ปุ่มยุบลง */
    box-shadow: 0 2px 8px -3px var(--primary-color); /* ลดขนาดเงา */
}

/* --- ปรับขนาดไอคอนภายในปุ่ม --- */
#open-menu.icon-button .feather {
    width: 24px;
    height: 24px;
}
/* ======================================= */
/* ====== Planner UI/UX Enhancement ====== */
/* ======================================= */

/* --- ปรับปรุงฟอร์ม "เพิ่มกิจกรรม" --- */
#planner-form button[type="submit"] {
    border-radius: 50px; /* ทำให้ปุ่มกลมมน */
    font-weight: 500;
    padding: 12px 30px;
    background-color: var(--primary-color);
    color: white;
    box-shadow: 0 4px 15px -5px var(--primary-color); /* เพิ่มแสงเงา */
    transition: all 0.2s ease-out;
}

#planner-form button[type="submit"]:hover {
    transform: translateY(-3px); /* ทำให้ปุ่มลอยขึ้น */
    box-shadow: 0 7px 20px -5px var(--primary-color);
}

#planner-form button[type="submit"]:active {
    transform: translateY(0) scale(0.98); /* ทำให้ปุ่มยุบลงเมื่อคลิก */
    box-shadow: 0 2px 8px -3px var(--primary-color);
}

/* --- ปรับปรุงฟอร์มเพิ่มหมวดหมู่ใหม่ใน Modal --- */
#add-custom-category-form button {
    border-radius: 50px;
    box-shadow: 0 4px 12px -3px var(--primary-color);
    transition: all 0.2s ease;
}
#add-custom-category-form button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 15px -3px var(--primary-color);
}


/* --- ปรับปรุงรายการกิจกรรมที่แสดงผล --- */
#events-list {
    list-style: none;
    padding: 0;
    margin-top: 15px;
    display: flex;
    flex-direction: column;
    gap: 12px; /* เพิ่มระยะห่างระหว่างรายการ */
}

#events-list li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px; /* เพิ่ม padding ให้โปร่งขึ้น */
    background-color: var(--bg-color);
    border-radius: 12px; /* ทำให้ขอบมนขึ้น */
    border-left: 5px solid var(--primary-color); /* เพิ่มแถบสีด้านซ้าย */
    box-shadow: 0 3px 8px -2px rgba(0,0,0,0.05);
    transition: transform 0.2s, box-shadow 0.2s;
}
body[data-theme="dark"] #events-list li {
    box-shadow: 0 3px 10px -2px rgba(0,0,0,0.2);
}

#events-list li:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px -3px rgba(0,0,0,0.1);
}
body[data-theme="dark"] #events-list li:hover {
    box-shadow: 0 5px 20px -3px rgba(0,0,0,0.3);
}

#events-list .event-details {
    display: flex;
    flex-direction: column;
}

#events-list .event-name {
    font-weight: 500;
    color: var(--text-color);
    font-size: 1.05rem;
}

#events-list .event-category {
    font-size: 0.85em;
    color: var(--subtle-text-color);
    margin-top: 3px;
}

#events-list .event-time {
    font-weight: 700;
    font-size: 1rem;
    color: var(--primary-color);
    background-color: var(--card-bg-color);
    padding: 6px 12px;
    border-radius: 8px;
}
/* ======================================= */
/* ====== Revisit Page Button Revamp ====== */
/* ======================================= */

/* --- สไตล์หลักสำหรับปุ่ม Primary ในหน้าทบทวนความรู้ทั้งหมด --- */
#revisit-page button[type="submit"],
#revisit-page #start-quiz-btn {
    border-radius: 50px; /* ทำให้ปุ่มกลมมน */
    font-weight: 500;
    padding: 12px 30px;
    background-color: var(--primary-color);
    color: white;
    box-shadow: 0 4px 15px -5px var(--primary-color); /* เพิ่มแสงเงา */
    transition: all 0.2s ease-out;
    border: none;
}

#revisit-page button[type="submit"]:hover,
#revisit-page #start-quiz-btn:hover {
    transform: translateY(-3px); /* ทำให้ปุ่มลอยขึ้น */
    box-shadow: 0 7px 20px -5px var(--primary-color);
}

#revisit-page button[type="submit"]:active,
#revisit-page #start-quiz-btn:active {
    transform: translateY(0) scale(0.98); /* ทำให้ปุ่มยุบลงเมื่อคลิก */
    box-shadow: 0 2px 8px -3px var(--primary-color);
}


/* --- สไตล์สำหรับปุ่มรอง (Secondary) เช่น "เพิ่มตัวเลือก" หรือ "ยกเลิก" --- */
#revisit-page .btn-secondary {
    border-radius: 50px;
    font-weight: 500;
    background-color: var(--bg-color);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    box-shadow: 0 4px 12px -5px rgba(0,0,0,0.1);
    transition: all 0.2s ease-out;
}
/* สำหรับ Dark Mode */
body[data-theme="dark"] #revisit-page .btn-secondary {
    box-shadow: 0 4px 15px -5px rgba(0,0,0,0.3);
}

#revisit-page .btn-secondary:hover {
    transform: translateY(-2px);
    border-color: var(--primary-color);
    color: var(--primary-color);
    box-shadow: 0 6px 18px -5px rgba(0,0,0,0.15);
}
body[data-theme="dark"] #revisit-page .btn-secondary:hover {
    box-shadow: 0 6px 20px -5px rgba(0,0,0,0.4);
}


/* --- ปรับปรุงสไตล์ของ Topic List ให้ดูดีขึ้น --- */
#revisit-topics-by-subject .topic-item .small-btn {
    border-radius: 20px;
    font-size: 0.85em;
    padding: 6px 15px;
}